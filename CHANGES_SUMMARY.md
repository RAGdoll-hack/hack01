# PreFilter.AI Chrome拡張機能への変換 - 変更点まとめ

このドキュメントでは、PreFilter.AIをNext.jsアプリケーションからChrome拡張機能に変換するために行った変更点をまとめています。

## 追加したファイル

1. **public/manifest.json**
    - Chrome拡張機能に必要なマニフェストファイル
    - 拡張機能の名前、バージョン、説明、アイコン、権限などを定義

2. **public/icons/README.md**
    - 拡張機能に必要なアイコンファイルの説明と配置場所の指示

3. **next.config.js**
    - Next.jsの設定ファイル
    - 静的HTMLファイルを生成するための設定
    - Chrome拡張機能として動作するための各種設定

4. **EXTENSION_README.md**
    - 拡張機能のビルド方法と使用方法の説明

## 変更したファイル

1. **package.json**
    - `build:extension`スクリプトを追加
    - Chrome拡張機能をビルドするためのコマンドを提供

## 技術的な変更点

### 1. 静的ファイル生成の設定

Next.jsアプリケーションをChrome拡張機能として動作させるためには、サーバーサイドレンダリングではなく静的HTMLファイルとして出力する必要があります。そのため、
`next.config.js`で以下の設定を行いました：

```javascript
output: 'export'
```

これにより、`npm run build:extension`を実行すると、`out`ディレクトリに静的HTMLファイルが生成されます。

### 2. Chrome拡張機能のマニフェスト

Chrome拡張機能には`manifest.json`ファイルが必須です。このファイルでは以下の設定を行いました：

- マニフェストバージョン: 3（最新）
- 拡張機能の基本情報（名前、バージョン、説明）
- アクション設定（ポップアップとアイコン）
- 必要な権限（activeTab）

### 3. その他の最適化

- 画像最適化を無効化（拡張機能では不要）
- ベースパスを空に設定
- トレイリングスラッシュを有効化

## 使用方法

拡張機能のビルドと使用方法については、`EXTENSION_README.md`を参照してください。

## 注意点

1. アイコンファイルは別途用意する必要があります
2. APIエンドポイントは拡張機能のコンテキスト内で動作するように調整されています
3. 実際の運用では、セキュリティやパフォーマンスの観点からさらなる最適化が必要になる場合があります