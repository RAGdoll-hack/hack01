chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch((function(i){console.error("サイドパネルの設定に失敗しました:",i)})),chrome.runtime.onInstalled.addListener((function(){console.log("拡張機能がインストールされました"),chrome.storage.local.set({settings:{enabled:!0,activeView:"settings",disallowDiscrimination:!0,disallowDefamation:!0,disallowMisinformation:!0,disallowInappropriate:!0,disallowExtremism:!0,disallowCopyright:!0,disallowCondescending:!0,disallowUnethical:!0,disallowExcessiveComplaints:!0,disallowStealthMarketing:!0}},(function(){console.log("初期設定が保存されました")}))})),chrome.runtime.onMessage.addListener((function(i,e,o){return console.log("メッセージを受信しました:",i),"GET_SETTINGS"===i.type?(chrome.storage.local.get("settings",(function(i){o({settings:i.settings||{enabled:!0,activeView:"settings",disallowDiscrimination:!0,disallowDefamation:!0,disallowMisinformation:!0,disallowInappropriate:!0,disallowExtremism:!0,disallowCopyright:!0,disallowCondescending:!0,disallowUnethical:!0,disallowExcessiveComplaints:!0,disallowStealthMarketing:!0}})})),!0):"UPDATE_SETTINGS"===i.type?(chrome.storage.local.set({settings:i.settings},(function(){o({success:!0})})),!0):void 0}));